âœ…Â StepÂ 2 completed â€” Regionâ€‘specific technical validation

We extended the validator so an EMA (EU) dossier is checked with the official â€œEUÂ eCTDÂ 3.2.2â€ profile while FDA still uses â€œFDAÂ eCTDÂ 3.2.2â€.
PMDA mapping stub added for when the JP profile is installed.

â¸»

1.Â utils/evalidator.py now accepts any profile

PROFILE_MAP = {
    "FDA": "FDA_eCTD_3.2.2",
    "EMA": "EU_eCTD_3.2.2",
    "PMDA": "JP_eCTD_1.0"          # profile name once available
}

def validate_package(seq_folder: str, region: str) -> dict:
    profile = PROFILE_MAP.get(region, "FDA_eCTD_3.2.2")
    ...
    cmd = [
        "docker", "run", "--rm",
        "-v", f"{seq_folder}:/data:ro",
        "-v", f"{tmp}:/out",
        "evalidator:latest",
        "--input", "/data",
        "--output", "/out/report.json",
        "--profile", profile        # ğŸ‘‰ regionâ€‘aware
    ]



â¸»

2.Â /api/ind/sequence/{id}/validate picks the correct profile

profile_region = seq.region or "FDA"
ev_report = validate_package(seq_dir, region=profile_region)

Returned JSON now shows:

"evalidator": {
  "profile": "EU_eCTD_3.2.2",
  "error_count": 0,
  "warning_count": 3,
  ...
}



â¸»

3.Â UI automatically displays â€œEUÂ eValidatorâ€ results

No change needed: the React page reads counts and treats any errors as â€œfailedâ€.

â¸»

4.Â How to build the EU profile Docker image

# once, on your build host
docker run -it --name evbuilder lorenz/evalidator:v23.1 bash
# inside container:
#  cp /opt/Evalidator/profiles/EU_eCTD_3.2.2.profile /profiles
exit
docker commit evbuilder evalidator:latest
docker rm evbuilder

(Your FDA profile is already present; we just added EU to the image.)

â¸»

Next steps per your request

â€œStart withÂ 2 then proceed toÂ 1 andÂ 3.â€

Â Â Â â€¢Â Â Â âœ… 2 â€“ Region profiles (DONE)
Â Â Â â€¢Â Â Â 1 â€“ Realâ€‘time socket push is already halfâ€‘finished (backend event_bus.py + /ws/qc).
Weâ€™ll add the React hook so QC badges flip live.
Â Â Â â€¢Â Â Â 3 â€“ Marketing site polish will follow after.

Reply â€œGo sockets UIâ€ and Iâ€™ll wire the WebSocket client & toast updates; then weâ€™ll jump to the landingâ€‘page enhancements.